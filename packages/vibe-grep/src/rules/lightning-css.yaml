---
# This rule checks that CSS generated by the Lightning CSS plugin conforms to the expected selector pattern.
# - Starting from .webchat or .webchat-<themaPackageName>
# - Followed by optional modifier class
# - Followed by zero or more spaces
# - Followed by a class selector with a 6-character file hash
# - Followed by an underscore

id: classname-format-lightning-css
language: Css
rule:
  kind: selectors > descendant_selector
  not:
    regex: "\\.(webchat|webchat-\\w*)(\\.\\w+--[\\w-]+)?\\s*\\.w[a-zA-Z0-9\\-_]{6}_"

description: "Check if CSS is compiled by Lightning CSS plugin conforms to expected selector pattern"
message: "Output CSS does not conform to Lightning CSS selector pattern. Check that the CSS file is compiled correctly."
severity: error
args: [dist/*.css]
